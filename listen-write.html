<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üìñ Luy·ªán Nghe v√† Vi·∫øt Ti·∫øng ƒê·ª©c</title>
    <link rel="stylesheet" href="listen-write.css">
</head>
<body>
    <div class="container">
        <a href="index.html" class="home-link">Home</a>
        <div class="deck-selector">
            <strong style="font-size: 18px;">Ch·ªçn b·ªô th·∫ª: ¬†</strong>
            <select id="deckSelect">
                <option value="">Nh·∫•n V√†o ƒê√¢y!</option>
            </select>
            <div class="jump-to-container">
                <input type="number" id="jumpToInput" placeholder="Nh·∫≠p s·ªë c√¢u" min="1">
                <button id="jumpToButton">ƒêi ƒë·∫øn</button>
            </div>
        </div>

        <div id="progressContainer" class="hidden">
            <div id="progressBar" class="progress-bar"></div>
            <span id="progressText">0%</span>
        </div>

        <div id="errorMessage" class="error"></div>
        
        <div id="storyContainer" class="hidden">
            <div class="audio-controls">
                <audio id="audioPlayer" controls playsinline></audio>
                <div class="progress">
                    <span id="currentTime">0:00</span> / <span id="duration">0:00</span>
                </div>
                <div class="loop-controls">
                    <button id="startLoopButton"><</button>
                    <button id="endLoopButton">></button>
                    <button id="playLoopButton">Ph√°t ƒëo·∫°n l·∫∑p</button>
                    <button id="clearLoopButton">Clear</button>
                    <label class="switch">
                        <input type="checkbox" id="repeatToggle" checked>
                        <span class="slider"></span>
                    </label>
                    <span>L·∫∑p to√†n b·ªô</span>
                </div>
            </div>

            <div class="input-container">
                <textarea id="dictationInput" class="form-control dictation__input" placeholder="Nh·∫≠p n·ªôi dung b·∫°n nghe ƒë∆∞·ª£c..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" data-gramm="false" data-gramm_editor="false" data-enable-grammarly="false"></textarea>
                <div id="highlight" class="highlight"></div>
            </div>
            <div id="completionMessage" style="display: none; text-align: center; font-size: 20px; color: green; margin-top: 20px;">
                üéâ ƒê√£ ho√†n th√†nh b√†i, vui l√≤ng ch·ªçn b√†i luy·ªán t·∫≠p kh√°c! üéâ
            </div>

            <div class="button-group">
                <button id="checkButton">Ki·ªÉm tra</button>
                <button id="translateButton">D·ªãch</button>
                <button id="prevButton">C√¢u tr∆∞·ªõc</button>
                <button id="skipButton">C√¢u ti·∫øp theo</button>
                <button id="reloadButton" style="display: none; margin-top: 10px;">Ch·ªçn B√†i ti·∫øp theo n√†o</button>
            </div>

            <div id="feedback" class="feedback"></div>
            <div id="translation" class="translation hidden"></div>
            <p id="progressDisplay">C√¢u: 1/1</p>
            <div class="stats">
                <p>Th·ªëng k√™: 
                    <span id="correctCount">0</span> ƒë√∫ng ‚Ä¢ 
                    <span id="incorrectCount">0</span> sai
                </p>
                <div id="wrongWordsStats" class="wrong-words-stats">
                    <h3>T·ª´ sai:</h3>
                    <ul id="wrongWordsList"></ul>
                </div>
                <div id="mistakeStats" class="mistake-stats hidden">
                    <p><strong>T·ª´ hay sai:</strong></p>
                    <div class="mistake-box">
                        <ul id="mistakeList"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="listen-write.js"></script>
</body>
</html>